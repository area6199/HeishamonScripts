on System#Boot then
	setTimer(1, 30);
end

on timer=1 then
	eXtRunTime();
	setTimer(1, 15);
end

on eXtRunTime then
	$cf  = @Compressor_Freq;
	$om  = @Operating_Mode_State;
	$hRT = @Z1_Heat_Request_Temp;
	$mOT = @Main_Outlet_Temp;
	$mTT = @Main_Target_Temp;
	$oST = @Outside_Temp;

	if $om == 0 && $oST > 0 then
		if $cf == 0 && $hRT > -5 && $hRT < 5 then
			$hRT = -5;
		elseif $cf < 22 && $mOT > (1.6 + $mTT) && $hRT < 5 then
			$hRT = 1 + $hRT;
		elseif $mOT < (0.5 + $mTT) && $hRT > -5 && $hRT < 5 then
			$hRT = -1 + $hRT;
		end
	end

	if $hRT != @Z1_Heat_Request_Temp then
		@SetZ1HeatRequestTemperature = $hRT;
	end
end